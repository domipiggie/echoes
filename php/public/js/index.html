<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script src="./websocket-client.js"></script>
    <script>
        const ws = new EchoesWebSocket('eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0LyIsImF1ZCI6Imh0dHA6Ly9sb2NhbGhvc3QvIiwiaWF0IjoxNzQxOTQwNTc3LCJuYmYiOjE3NDE5NDA1NzcsImV4cCI6MTc0MTk0NDE3NywianRpIjoiQmRoenA5RHJNbWdFaU9ra0QvU3ljZz09IiwiZGF0YSI6eyJpZCI6OSwidXNlcm5hbWUiOiJ1c2VydXNlciIsImVtYWlsIjoibG9sQGxvbC5sb2wifX0.Z9xe8usiRwwFIkvu5PtYQ_51AYTNTB7NTSc6eEUlbds');
        ws.connect();
        ws.onmessage = function (event) {
            const data = JSON.parse(event.data);
            console.log(data);
            if (data.type === 'new_message') {
                console.log('New message received:', data.message.content);
                // Update your UI with the new message
            } else if (data.type === 'auth_success') {
                console.log('Authentication successful');
            } else if (data.type === 'auth_error') {
                console.error('Authentication error:', data.message);
            }
        };
    </script>
</body>

</html>